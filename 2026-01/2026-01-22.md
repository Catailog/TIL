# 2026-01-22 TIL

## 오늘 배운 것

- Custom Hook 실습

- localStorage에서 demo-name 키에 해당하는 데이터를 받아올 때, 최초에는 키가 없기 때문에 localStorage.getItem 메서드의 반환값이 null이고, 따라서 기본값인 빈 문자열이 대입되도록 했었다.

```tsx
const nameJson = localStorage.getItem("demo-name") || "";
```

- 이후 json 데이터를 파싱해야 하는데 JSON.parse 메서드로 빈 문자열을 파싱하려 할 경우 오류가 발생한다. json 형식에 맞지 않기 때문이다. 따라서 기본값 할당이 아니라 값을 먼저 검사한 뒤 JSON.parse 메서드를 사용하여 값을 반환할지 결정해야 한다.

```tsx
// 기존 코드
const name = JSON.parse(nameJson) || "";
// 수정한 코드
const name = nameJson ? JSON.parse(nameJson) : "";
```
